const $=e=>document.querySelector(e),$$=e=>document.querySelectorAll(e);let rowSize=5,goalWord,letter0,letter1,letter2,letter3,letter4,guessWord="",moves=10,movesItTook=1,moveBonus=9,maxMoves=10,score=0,roundScore=500,multiplier=1,multiplierMod=.2,streak=0,difficulty=null,isVictory=!1,hintsGiven=0,guessesRemaining=2,burnCost=5,hintCost=2,goalChar0index,goalChar1index,goalChar2index,goalChar3index,goalChar4index;function setDifficulty(e){"easy"===e?(moveBonus=9,maxMoves=20,guessesRemaining=3):"hard"===e?(moveBonus=5,maxMoves=10,guessesRemaining=1):(e="normal",moveBonus=6,maxMoves=10,guessesRemaining=2),setGuesses(),difficulty=e,e=e.charAt(0).toUpperCase()+e.slice(1),$(".current-difficulty").innerText=e,setColors()}function setColors(){$("body").classList.remove(".easy-bg","normal-bg","hard-bg"),$("body").classList.add(`${difficulty}-bg`),$$(".difficulty h3").forEach(e=>e.classList.remove("selected-btn")),$(`.${difficulty}-btn`).classList.add("selected-btn"),$$(".game-view *").forEach(e=>e.classList.remove("easy","normal","hard")),$(".very-top").classList.add(difficulty),$(".hud").classList.add(difficulty)}function reset(){goalWord=null,guessWord="",moves=maxMoves,movesItTook=1,score=0,roundScore=500,multiplier=1,streak=0,isVictory=!1,hintsGiven=0,$(".banner").classList.add("hidden"),updateHUD()}let letterBag=`
aaaa
eeee
ssss
oooo
rrrr
iiii
llll
tttt
nnnn
uuuu
dddd
cccc
yyyy
mmmm
pppp
hhh
bbb
ggg
kkk
fff
ww
vv
zz
jj
xx
qq`.replace(/\s+/g,"").toUpperCase(),words=["abide","abort","about","above","abuse","aches","acted","actor","acute","adapt","added","adios","admit","adopt","adore","adorn","affix","after","again","agent","agile","aging","aglow","agree","ahead","aides","alarm","album","alike","alive","allow","alone","along","aloof","aloud","alter","amass","amaze","amble","among","ample","amply","amuse","angel","anger","angle","angry","annoy","apart","apple","apply","arena","argue","arise","array","aside","asset","audio","audit","avert","avoid","award","aware","backs","badly","baker","bases","basic","basis","batty","beach","began","begin","begun","being","below","bench","billy","bingo","birth","black","blame","blast","bless","blind","bling","bliss","block","blood","bloom","blunt","blush","board","boast","bonus","boost","booth","boozy","bored","bound","brain","brand","bread","breed","brief","bring","broad","broke","brown","build","built","buyer","cable","calif","carry","cause","chain","chair","champ","charm","chart","chase","cheap","check","cheek","chest","chief","child","china","chose","civil","claim","clean","click","clock","cloth","clown","coach","coast","colts","could","count","court","cover","craft","crash","craze","crazy","cream","crest","crime","crisp","cross","crowd","crown","cured","curse","curve","cycle","daily","dance","dandy","dated","dealt","death","debut","delay","depth","ditzy","dizzy","doing","doubt","dozen","draft","drama","drawn","dream","dress","dried","drill","drink","drive","drove","dying","eager","eagle","early","earth","eased","ebony","edict","eerie","eight","elect","elite","empty","enemy","enjoy","enter","entry","equal","error","ether","every","exact","exist","extra","faith","fancy","fault","festy","fiber","field","fifth","fifty","fight","final","first","fixed","fizzy","flash","fleet","floor","fluid","force","forth","forty","forum","found","frame","frank","fraud","fresh","frizz","front","fruit","fully","funny","gains","giant","given","glass","globe","glory","going","grace","grade","grand","grant","grass","great","green","gross","group","grown","guard","guess","guide","hairy","happy","harry","hazed","heart","heavy","helps","hence","honor","horse","hotel","hound","house","human","humor","hurts","ideal","image","index","inner","inner","input","issue","jaunt","jimmy","joint","joked","jokes","jokey","jolly","jones","joust","judge","juice","jumps","junky","kicks","ketch","knack","knock","knoll","known","label","large","laser","later","laugh","layer","learn","lease","least","leave","legal","level","light","limit","links","lives","loans","local","lofty","logic","loose","loved","lower","loyal","lucky","lunch","lurch","lying","magic","major","maker","mamma","march","match","maybe","mayor","meant","media","mercy","merit","metal","might","minor","minus","mixed","moans","model","moist","momma","money","month","moose","moral","moron","motor","mount","mouse","mouth","moved","movie","mumma","mummy","music","mystic","needs","needy","nerdy","never","newly","night","noble","noise","north","noted","novel","nurse","occur","ocean","offer","often","oozes","order","organ","other","ought","owlet","paint","panel","paper","party","peace","pests","pesty","phase","phone","photo","piece","pilot","pitch","pizza","place","plain","plane","plant","plate","plays","point","pound","pours","power","press","price","pride","prime","print","prior","prize","proof","proud","prove","quake","quaky","queen","queer","quest","quick","quiet","quiff","quite","quote","radio","raise","range","rapid","ratio","reach","ready","refer","relax","renew","rests","right","rival","river","roast","robin","roger","roman","rough","round","route","royal","rules","rural","sabre","saggy","scale","scene","scope","score","scowl","seize","sense","serve","seven","shady","shall","shape","share","sharp","sheer","sheet","shelf","shell","shift","shine","shirt","shock","shoot","short","shown","sight","since","sixth","sixty","sized","sizes","skill","sleep","slice","slide","small","smart","smile","smith","smoke","solid","solve","sorry","sound","south","space","spare","speak","spear","speed","spend","spent","split","spoke","sport","staff","stage","stake","stand","start","state","steam","steel","stick","still","stock","stone","stood","store","storm","story","strip","stuck","study","stuff","style","sugar","suite","super","sways","swear","sweat","sweet","table","taffy","taken","tally","taste","taxes","teach","teams","teeth","tempt","terry","thank","theft","their","theme","there","these","thick","thing","think","third","those","three","threw","throw","tight","times","tired","title","toast","today","topic","total","touch","tough","towel","tower","track","trade","train","treat","trend","trial","tried","tries","truck","truly","trust","truth","turns","twice","twirl","twist","under","undue","union","unity","unity","until","upper","upset","urban","usage","usual","valid","value","video","vigor","virus","visit","vital","voice","wants","waste","watch","water","wells","welds","wheel","where","which","while","whips","white","whole","whose","woman","women","wordy","works","world","worry","worse","worst","worth","would","wound","write","wrong","wrote","yearn","yield","young","youth","yummy","zappy","zesty","zilch","zippo","zippy"];function skip(){say("skipped"),evaluate(),dealEm(),clearSelections(),updateHUD()}function burn(){$(".burn-btn").classList.add("disabled"),say("burn"),colorize("burn"),moves-=burnCost,updateHUD()}function hint(){$(".hint-btn").classList.add("disabled"),say("hint"),colorize("hint"),moves-=hintCost,updateHUD()}function setGuesses(){let e=$(".guess-marks"),a=guessesRemaining;for(i=0,e.innerText="";i<a;i++)e.innerText+="|"}function guess(){(guessWord=prompt("The word is...","")).toUpperCase()===goalWord?isVictory=!0:guessesRemaining--,updateHUD(),evaluate(),clearSelections()}function clearSelections(){$$(".selected").forEach(e=>e.classList.remove("selected"))}function enableGameBtns(){$$(".game-btn").forEach(e=>e.classList.remove("disabled"))}function getRandomLetter(){let e=Math.floor(Math.random()*letterBag.length);return letterBag.charAt(e)}function getRandomGridIndex(){return Math.floor(Math.random()*Math.pow(rowSize,2))}function setRandomGoalWord(){letter0=(goalWord=words[Math.floor(Math.random()*words.length)].toUpperCase()).charAt(0),letter1=goalWord.charAt(1),letter2=goalWord.charAt(2),letter3=goalWord.charAt(3),letter4=goalWord.charAt(4)}function setGoalCharIndexes(){for(goalChar0index=getRandomGridIndex();!goalChar1index||goalChar1index===goalChar0index;)goalChar1index=getRandomGridIndex();for(;!goalChar2index||goalChar2index===goalChar0index||goalChar2index===goalChar1index;)goalChar2index=getRandomGridIndex();for(;!goalChar3index||goalChar3index===goalChar0index||goalChar3index===goalChar1index||goalChar3index===goalChar2index;)goalChar3index=getRandomGridIndex();for(;!goalChar4index||goalChar4index===goalChar0index||goalChar4index===goalChar1index||goalChar4index===goalChar2index||goalChar4index===goalChar3index;)goalChar4index=getRandomGridIndex()}function setGridLetters(){$$(".cell").forEach((e,a)=>{let t=getRandomLetter();a===goalChar0index?t=goalWord.charAt(0):a===goalChar1index?t=goalWord.charAt(1):a===goalChar2index?t=goalWord.charAt(2):a===goalChar3index?t=goalWord.charAt(3):a===goalChar4index&&(t=goalWord.charAt(4));let r=goalWord.indexOf(t);e.innerText=t,e.dataset.piece=r+1})}function swap(e){e.classList.toggle("selected");let a=$$(".selected");if(a.length>=2){let t=a[0],r=a[1],s=t.parentElement,o=r.parentElement;s.appendChild(r),o.appendChild(t),t.classList.remove("selected"),r.classList.remove("selected"),hush(),colorize(),evaluate()}}function colorize(e){document.querySelectorAll(".cell").forEach(a=>{let t=parseInt(a.parentElement.dataset.gridx),r=parseInt(a.parentElement.dataset.gridy),s=a.innerText,o,n;n=0===t?null:(o=$(`[data-gridx="${t-1}"][data-gridy="${r}"] .cell`)).innerText,a.classList.remove("green","yellow"),"burn"===e&&-1!==goalWord.indexOf(s)?a.classList.add("orange"):"burn"===e?a.classList.add("burn"):"hint"===e&&!hintsGiven&&a.innerText===letter0&&(a.classList.add("hint"),hintsGiven++),n===letter0&&s===letter1||n===letter1&&s===letter2||n===letter2&&s===letter3||n===letter3&&s===letter4?(a.classList.add("green"),o.classList.add("green")):goalWord.indexOf(s)>-1&&goalWord.indexOf(n)>-1&&(a.classList.add("yellow"),o&&o.classList.add("yellow"))})}function evaluate(){for(i=0;i<5;i++){let e="";for(ii=0;ii<5;ii++)e+=$(`[data-gridy="${i}"][data-gridx="${ii}"] .cell`).innerText;if(e===goalWord){isVictory=!0;break}}if(isVictory){score+=roundScore*multiplier,moves+=moveBonus,movesItTook=1,streak++;let a;moves-burnCost>0&&$(".burn-btn").classList.remove("disabled"),moves-hintCost>0&&$(".hint-btn").classList.remove("disabled"),moves>=maxMoves?(moves=maxMoves,multiplier+=multiplierMod,a="multiplier up"):a="victory",updateHS(score),say(a),dealEm()}else movesItTook++,moves--,roundScore-=Math.round(500/maxMoves),moves<1&&gameOver();updateHUD()}function hush(){$(".banner").classList.add("hidden")}function say(e){$(".banner").classList.remove("hidden");let a="",t="";"multiplier up"===e?(a=`😀 Multiplier UP!<span class="yellow-text"> x ${multiplier}!</span>`,t=`* ${goalWord} *`):"victory"===e?(a="Nice! \uD83D\uDE42",t=`* ${goalWord} *`):"skipped"===e?(a="Skipped \uD83D\uDE23",t=`it was * ${goalWord} *`):"burn"===e?(a="B U R N ! ! ! \uD83D\uDC80",t="\uD83D\uDD25 \uD83D\uDD25 \uD83D\uDD25 \uD83D\uDD25 \uD83D\uDD25 \uD83D\uDD25 \uD83D\uDD25 \uD83D\uDD25"):"hint"===e&&(a="Here's a hint... \uD83E\uDD10",t=`the first letter is * ${letter0} *`),$(".banner-text-top").innerHTML=a,$(".banner-text-bottom").innerHTML=t}function updateHUD(){updateHS(),setGuesses(),$(".moves").innerText=moves,$(".score").innerText=score,$(".round-score").innerText=roundScore,$(".multiplier").innerText=multiplier,moves-burnCost<1&&$(".burn-btn").classList.add("disabled"),moves-hintCost<1&&$(".hint-btn").classList.add("disabled"),guessesRemaining<1&&$(".guess-btn").classList.add("disabled")}function removeTags(){$$(".cell").forEach(e=>{e.classList.remove("burn"),e.classList.remove("orange"),e.classList.remove("hint")})}function dealEm(){isVictory=!1,hintsGiven=0,movesItTook=1,roundScore=500,setRandomGoalWord(),setGoalCharIndexes(),setGridLetters(),removeTags(),enableGameBtns(),setGuesses(),colorize(),console.log(goalWord)}function gameOver(){confirm(`GAME OVER
    Final Score: ${$(".score").innerText}
    
    The word was "${goalWord}"
    Play Again?`)?startGame():quit()}function startGame(){viewGame(),reset(),dealEm(),updateHUD()}function viewMenu(){$$(".view").forEach(e=>e.classList.add("display-none")),$(".menu-view").classList.remove("display-none")}function viewRules(){$$(".view").forEach(e=>e.classList.add("display-none")),$(".rules-view").classList.remove("display-none")}function viewGame(){$$(".view").forEach(e=>e.classList.add("display-none")),$(".game-view").classList.remove("display-none")}function viewHighScores(){$$(".view").forEach(e=>e.classList.add("display-none")),$(".hs-view").classList.remove("display-none")}function updateHS(e){e>(wordShimmyData=JSON.parse(localStorage.getItem("wordShimmyData"))).highScores[difficulty]&&(wordShimmyData.highScores[difficulty]=e),$(".current-high-score").innerText=wordShimmyData.highScores[difficulty],$(".hs-easy").innerText=wordShimmyData.highScores.easy,$(".hs-normal").innerText=wordShimmyData.highScores.normal,$(".hs-hard").innerText=wordShimmyData.highScores.hard,localStorage.setItem("wordShimmyData",JSON.stringify(wordShimmyData))}!function e(){for(i=0;i<25;i++){let a=document.createElement("div"),t=document.createElement("button");a.dataset.gridx=i%rowSize,a.dataset.gridy=Math.floor(i/rowSize),a.classList.add("grid-item"),a.appendChild(t),t.classList.add("cell"),t.addEventListener("click",e=>{swap(e.target)}),$(".grid").appendChild(a)}let r=document.createElement("button"),s=document.createElement("button"),o=document.createElement("button"),n=document.createElement("button");if(r.innerText="Skip",r.classList.add("game-btn","skip-btn"),r.addEventListener("click",skip),s.innerText="Burn",s.classList.add("game-btn","burn-btn"),s.addEventListener("click",burn),o.innerText="Hint",o.classList.add("game-btn","hint-btn"),o.addEventListener("click",hint),n.innerHTML='Guess&nbsp;<span class="guess-marks"></span>',n.classList.add("game-btn","guess-btn"),n.addEventListener("click",guess),$(".grid").appendChild(r),$(".grid").appendChild(s),$(".grid").appendChild(o),$(".grid").appendChild(n),!localStorage.getItem("wordShimmyData")){let l=JSON.stringify({highScores:{easy:0,normal:0,hard:0}});localStorage.setItem("wordShimmyData",l)}setDifficulty(difficulty),updateHS()}();